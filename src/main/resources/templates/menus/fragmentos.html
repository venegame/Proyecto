<!DOCTYPE html>
<!--
Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license
Click nbfs://nbhost/SystemFileSystem/Templates/Other/html.html to edit this template
-->
<html xmlns = "http://www.w3.org/1999/xhtm"
      xmlns:th="http://www.thymeleaf.org">
    <head th:replace="layout/plantilla :: head"></head>
    <body>

        <section th:fragment="perfilUsuario">
            <style>
                .ticket {
                    background-color: #8ecddd;
                    padding: 10px;
                    margin: 10px 0;
                }
            </style>
            <div class="container mt-5">
                <div class="row">
                    <div class="col-md-4">
                        <div class="card">
                            <img src="user.jpg" class="card-img-top" alt="Foto de perfil">
                            <div class="card-body">
                                <h5 class="card-title">Nombre de Usuario:</h5>
                                <p class="card-text">Correo Electrónico: </p>
                                <p class="card-text">Nombre de Usuario: </p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-8">
                        <h3>Tiquetes Activos</h3>
                        <div class="row rounded p-3">
                            <div class="col-md-4">
                                <div class="ticket rounded p-3">
                                    <p>Número de Tiquete:</p>
                                    <p>Fecha de Creación: </p>
                                    <p>Estado: </p>
                                </div>
                            </div>
                            <h3>Notificaciones</h3>
                            <div class="alert alert-info" role="alert">
                                Aqui va la notificacion
                            </div>
                        </div>
                    </div>
                    </section>
                    <section th:fragment="ticketsActivos">
                        <style>
                            .ticket {
                                background-color: #8ecddd;
                                padding: 20px;
                                margin: 10px 0;
                            }
                        </style>
                        <h3 class="col-md-12 container mt-4">Tiquetes Activos</h3>
                        <div th:if="${tickets != null and !tickets.empty}">
                            <table class="table table-hover container mt-5">
                                <thead class="table-dark">
                                    <tr>
                                    <tr>
                                        <th>ID</th>
                                        <th>Resumen</th>
                                        <th>Descripción</th>
                                        <th>Prioridad</th>
                                        <th>Estado</th>
                                        <th>Ruta de la Imagen</th>
                                        <th></th>
                                    </tr>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr th:each="tickets, contador : ${tickets}">
                                        <td>${ticket.idTicket}</td>
                                        <td>${ticket.resumen}</td>
                                        <td>${ticket.descripcion}</td>
                                        <td>${ticket.prioridad}</td>
                                        <td>${ticket.estado}</td>
                                        <td>${ticket.rutaImagen}</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </section>
                    <section th:fragment= "creatTicket">
                        <div class="container">
                            <h3 class="col-md-12 container mt-4">Descripción del Problema</h3>
                            <br>
                            <form enctype="multipart/form-data" action="procesar_formulario.php" method="post">
                                <div class="form-group">
                                    <label for="resumen">Resumen:</label>
                                    <input type="text" class="form-control" name="resumen" required="true"/>
                                    <br>
                                    <label for="descripcion">Descripción:</label>
                                    <textarea type="text" class="form-control" id="descripcion" name="descripcion" rows="4" required></textarea>
                                    <br>
                                    <label for="prioridad">Prioridad</label>
                                    <div class="form-floating">
                                        <select class="form-select" id="floatingSelect" aria-label="Floating label select example">
                                            <option value="1">(P1) Alta</option>
                                            <option value="2">(P2) Media</option>
                                            <option value="3">(93) Baja</option>
                                        </select>
                                        <label for="floatingSelect">Seleccione su prioridad</label>
                                    </div>
                                    <br>
                                    <label for="nombre">Nombre:</label>
                                    <input type="text" class="form-control" name="resumen" required="true"/>
                                    <br>
                                    <label for="correo">Correo electronico:</label>
                                    <form class="form-floating">
                                        <input type="email" class="form-control" id="floatingInputValue" placeholder="nombre@ejemplo.com" requiered="true">
                                    </form>
                                </div>
                                <div class="form-group">
                                    <br>
                                    <label for="archivo">Adjuntar Documentos:</label>
                                    <br>
                                    <input type="file" class="form-control-file" id="archivo" name="archivo" multiple accept=".pdf, .doc, .docx">
                                </div>
                                <br>
                                <button type="submit" class="btn btn-success">Crear</button>
                                <br>
                                <br>
                            </form>
                        </div>
                    </section>
                    </body>
                    </html>
